<ngx-loading [show]="loading && !errorMessage"></ngx-loading>
<div class="col-md-12 text-center">
        <h1 *ngIf='errorMessage'>{{errorMessage}}</h1>        
      </div>
<div class="col-md-12 row" *ngIf="sprintDetails && !errorMessage">

        <div class="panel panel-primary">
                <div class="panel-heading">{{sprintDetails.name}}</div>
                <div class="panel-body">
                    <div class="col-md-6">
                        <div style="display: block">
                        <div class="panel panel-primary">
                            <div class="panel-heading">Total story points <span class="badge" style="float:right">{{sprintDetails.totalStoryPoints}}</span></div>
                                <div class="panel-body" style="padding-bottom:0px"></div>
                            </div>
                        </div>
                        <div style="display: block">
                            <div class="panel panel-primary">
                                <div class="panel-heading">Individual story points</div>
                                    <div class="panel-body" style="padding-bottom:0px">
                                        
                                        <div *ngFor="let person of individualStoryPointsAssigned">
                                            <h5>{{ person.resourseName }}<div style="float:right">{{ person.storyPointsAssigned }}</div></h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <div style="display: block">
                            <div class="panel panel-primary">
                                <div class="panel-heading">Total sprint days left <span class="badge" style="float:right">{{totalDaysLeft}}</span></div>
                                    <div class="panel-body" style="padding-bottom:0px"></div>
                                </div>
                            </div>
                        
                                <div style="display: block">
                                        <div class="panel panel-primary">
                                                <div class="panel-heading">Hours Logged
                                                    <app-datepicker style="padding-left:110px" (dateChange)="onDateChange($event)" [myMin]="minDate" [myMax]="maxDate"></app-datepicker>
                                                    <div class="pull-right clickable" style="padding-top:19px" (click)="toggleHoursLogged()"><i class="glyphicon" [ngClass]="{'glyphicon-triangle-top': isHoursLoggedUp, 'glyphicon-triangle-bottom': !isHoursLoggedUp }"></i>
                                                    </div>
                                                </div>
                                                <div [@toggleHoursLogged]="stateHours" class="panel-body">
                                                    <div *ngFor="let person of isFromDate?loggedHoursResponse:sprintDetails.timeChart">
                                                        <h5>{{person.resourseName}}<div style="float:right">Hours logged : {{ isFromDate?getFixedTime(person.totalSpent):getFixedTime(person.timeChart.totalSpent)}}</div></h5>
                                                        <p-progressBar [ngClass]="false?red:green" [value]="isFromDate?getFixedTime(person.totalSpent)*100/6:getFixedTime(person.timeChart.totalSpent)*100/6" [showValue]="false" unit="hours" ></p-progressBar>
                                                    </div>
                                        </div>
                                    </div>
                                </div>
                        
                    </div>  
                    <div class="col-md-6">
                            <div style="display: block">
                                    <div class="panel panel-primary">
                                            <div class="panel-heading">Original estimated</div>
                                            <div class="panel-body">
                                <canvas *ngIf="doughnutChartData" baseChart
                                        [data]="doughnutChartData"
                                        [labels]="doughnutChartLabels"
                                        [chartType]="doughnutChartType"
                                        (chartHover)="chartHovered($event)"
                                        (chartClick)="chartClicked($event)"
                                        [options]="option"></canvas>
                                        <div class="text-center text-success">
                                        <b>{{totalTimeSpent}}</b>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                    </div>
                </div> 
        </div>
        
</div>